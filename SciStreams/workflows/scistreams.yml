# yml config file for scistreams
# find and replace first dir to second to save results in
delayed : True
# debug mode (errors not silently raised if True)
debug : False
# the cluster server location, null for None
#server : "10.11.128.3:8786"
server : null
bluesky :
    # the port of the dispatcher to subscribe to
    port : 5578
# default timeout for computations
default_timeout : 10
# swap out a portion of where results are stored with this new path prefix
# this replaces the first part of 'experiment_alias_directory with the second part
# this is used by many interfaces that write to file
resultsroot : ['/home/georgeha/data']
# for saving to filestore (not used yet)
databases :
    cms :
        data :
            host : 'xf11bm-ca1'
            port : 27017
            mdsname : 'metadatastore-production-v1'
            fsname : "filestore-production-v1"
        analysis :
            host : 'localhost'
            port: 27025
            mdsname : "analysis-metadatastore-v1"
            fsname : "analysis-filestore-v1"
    chx :
        data :
            host : 'xf11id-srv1'
            port : 27017
            mdsname : 'datastore'
            fsname : 'filestore'
# for calibration
keymaps:
    cms:
        wavelength:
            name: calibration_wavelength_A
            default_value: None
            default_unit: Angstrom
        beamx0:
            name: detector_SAXS_x0_pix
            default_value: null
            default_unit: pixel
        beamy0:
            name: detector_SAXS_y0_pix
            default_value: null
            default_unit: pixel
        sample_det_distance:
            name: detector_SAXS_distance_m
            default_value: null
            default_unit: m
        pixel_size_x:
            name:
            default_value: null
            default_unit: pixel
        pixel_size_y:
            name:
            default_value: null
            default_unit: pixel
        detector_key:
            name: detector_key
            default_value: null
            default_unit: string
# the required attributes for this data stream
# if you set this, may help better find
# bad data
required_attributes:
    # can optionally choose more categories
    main:
        # name, type
        # this one comes from events generated by databroker
        #seq_num: number
        detector_SAXS_x0_pix: number 
        detector_SAXS_y0_pix: number 
        # motor_SAXSx: number
        # motor_SAXSy: number
        scan_id: int
        # measurement_type: str
        # sample_savename: str 
        sample_name: str
        motor_bsx: number
        motor_bsy: number
        motor_bsphi: number
        detector_SAXS_distance_m: number
        calibration_energy_keV: number
        calibration_wavelength_A: number
        experiment_alias_directory: str
        experiment_cycle: str
        experiment_group: str
        # filename: str
        sample_exposure_time: number
        stitchback: int
# some module specific options
modules:
    tensorflow:
        checkpoint_filename: "/home/xf11bm/tensorflow-checkpoints/fbbenet/model.ckpt-50000"
    tau:
        run: False
        profiledir : "/home/xf11bm/tau-profiles"
        profilefile : "profile.0.0.0"
        tracedir : "/home/xf11bm/tau-traces"
        tracefiles : ["events.0.edf", "events.-1.edf",  "tautrace.0.0.0.trc"]
logfiles:
    info: /home/georgeha/bnl-flow/logs/scistreams.info.log
    debug: /home/georgeha/bnl-flow/logs/scistreams.debug.log
